<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Cosplay Chess</title>
    <link rel=stylesheet href="css/style.css">
</head>
<body>

<div id="menu-toggle" onclick="toggleMenu()">üè†</div>

<aside id="sidebar">
    <div style="padding: 20px; border-bottom: 1px solid #333;">
        <h2 style="color:var(--accent);">Cosplay Chess</h2>
        <div style="display:flex; flex-direction:column; gap:8px; margin-top:10px">
            <label style="font-size: 12px;"><input type="checkbox" id="edit-mode" onchange="renderBoard()"> MODO EDI√á√ÉO (REMOVER)</label>
            <label style="font-size: 12px; color: var(--accent); font-weight:bold;"><input type="checkbox" id="free-move"> MOVIMENTA√á√ÉO LIVRE</label>
        </div>
    </div>
    <div class="tabs">
        <button id="t-white" class="active" onclick="showTab('white')">BRANCAS</button>
        <button id="t-black" onclick="showTab('black')">PRETAS</button>
        <button id="t-sys" onclick="showTab('sys')">SISTEMA</button>
    </div>
    <div class="scroll-area" id="list-white"></div>
    <div class="scroll-area" id="list-black" style="display:none"></div>
    <div class="scroll-area" id="list-sys" style="display:none">
        <div class="unit-card">
            <b>VOLUME MESTRE</b>
            <input type="range" id="v-master" min="0" max="1" step="0.1" value="1" style="width:100%" oninput="updateMasterVolume()">
        </div>
        <div class="unit-card">
            <b style="color: var(--accent)">üé∂ √ÅUDIO AMBIENTE</b>
            <div id="ambient-controls" style="margin-top:10px; display: flex; flex-direction: column; gap: 12px;"></div>
        </div>
        <button class="btn" onclick="rollInitiative()" style="background:#222; color:var(--accent); margin-bottom: 8px; width: 100%">üé≤ SORTEAR IN√çCIO</button>
        <button class="btn" onclick="clearBoardPieces()" style="background:#333; color:#fff; margin-bottom: 8px; width: 100%">üßπ LIMPAR TABULEIRO</button>
        <button class="btn" onclick="resetGame()" style="background:var(--danger); color:#fff; width: 100%">‚ö†Ô∏è RESET TOTAL</button>
    </div>
    <div style="padding: 15px; background: #000;"><button class="btn btn-yes" style="width: 100%" onclick="startBattle()">ATIVAR BATALHA</button></div>
</aside>

<div class="app-container">
    <div id="dashboard">
        <div id="card-B" class="player-card">
            
            <div id="img-B" class="p-img" onclick="document.getElementById('f-av-B').click()"></div>
            <input type="file" id="f-av-B" style="display:none" onchange="upAvatar('B', this)">
            <input type="text" id="name-B" value="Jogador 1" style="width: 70px; margin-top:5px; background:#222; border-radius:20px; color:#029191; text-align:center">
            <div id="score-B"  class="p-score">0</div>
        </div>
        <div id="card-P" class="player-card">
            <div id="img-P" class="p-img" onclick="document.getElementById('f-av-P').click()"></div>
            <input type="text" id="name-P" value="Jogador 2" style="width: 70px; margin-top:5px; background:#222; border-radius:20px; color:#b90303; text-align:center">
            <div id="score-P" class="p-score" style="color:var(--danger)">0</div>
            <input type="file" id="f-av-P" style="display:none" onchange="upAvatar('P', this)">
        </div>
    </div>
    <main><div class="board-wrapper"><div id="board"></div></div></main>
</div>

<div id="arena" class="overlay">
    <div class="arena-content">
        <div class="arena-fighters">
            <div class="fighter" style="flex:1; text-align:center">
                <div id="a-img" class="arena-box" style="border-color: var(--accent)"></div>
                <div style="display:flex; gap:5px; margin-top:8px">
                    <button id="btn-play-L" class="btn" style="background:#004444; flex:1">‚ñ∂</button>
                    <button id="btn-pause-L" class="btn" style="background:#440000; flex:1">||</button>
                </div>
                <button class="btn btn-yes" onclick="finishDuel('B')" style="margin-top:10px">BRANCAS VENCERAM</button>
            </div>

            <div style="font-size: 24px;">‚öîÔ∏è</div>

            <div class="fighter" style="flex:1; text-align:center">
                <div id="d-img" class="arena-box" style="border-color: var(--danger)"></div>
                <div style="display:flex; gap:5px; margin-top:8px">
                    <button id="btn-play-R" class="btn" style="background:#004444; flex:1">‚ñ∂</button>
                    <button id="btn-pause-R" class="btn" style="background:#440000; flex:1">||</button>
                </div>
                <button class="btn" onclick="finishDuel('P')" style="background:var(--danger); color:#fff; margin-top:10px">PRETAS VENCERAM</button>
            </div>
        </div>
        <button class="btn" onclick="closeArena()" style="background:#222; margin-top:10px">CANCELAR DUELO</button>
    </div>
</div>

<div id="victory-modal" class="overlay">
    <div class="victory-content">
        <div class="trophy-wrap">
            <svg viewBox="0 0 24 24" fill="var(--gold)"><path d="M18,2H6V4H18V2M20,6V10C20,12.08 18.39,13.78 16.35,13.96C15.54,15.7 13.88,17 12,17C10.12,17 8.46,15.7 7.65,13.96C5.61,13.78 4,12.08 4,10V6H20M6,10H7.29C7.11,9.38 7,8.71 7,8H6V10M18,10V8H17C17,8.71 16.89,9.38 16.71,10H18M12,19A2,2 0 0,1 14,21H10A2,2 0 0,1 12,19Z" /></svg>
            <div id="victory-photo" class="winner-photo-circle"></div>
        </div>
        <h1 style="color:var(--gold); font-size: 28px;">CAMPE√ÉO!</h1>
        <p id="winner-name" style="margin: 10px 0 20px; font-weight: bold;"></p>
        <button class="btn btn-yes" onclick="location.reload()" style="width:200px">REINICIAR</button>
    </div>
</div>
<script src="js/script.js"></script>
</body>
</html>
 :root { --bg: #050508; --panel: #0d0d12; --accent: #00e5ff; --danger: #ff0055; --sq-l: #1e1e24; --sq-d: #0a0a0f; --gold: #ffd700; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
        
        body, html { 
            height: 100%; width: 100%; background: var(--bg); 
            font-family: 'Segoe UI', system-ui, sans-serif; color: white; 
            overflow: hidden; position: fixed; 
        }

        .app-container { display: flex; flex-direction: column; width: 100vw; height: 100vh; }
        @media (min-width: 1000px) { .app-container { flex-direction: row; } }

        /* DASHBOARD */
        #dashboard {
            background: rgba(13, 13, 18, 0.95); padding: 10px; display: flex; gap: 10px; z-index: 100;
            border-bottom: 1px solid #222; backdrop-filter: blur(10px);
        }
        @media (min-width: 1000px) {
            #dashboard { width: 300px; flex-direction: column; border-bottom: none; border-left: 1px solid #222; justify-content: center; padding: 20px; }
        }

        .player-card {
            flex: 1; display: flex; align-items: center; gap: 8px; 
            padding: 8px; border-radius: 8px; background: #000; border: 2px solid transparent; transition: 0.3s;
        }
        .active-B { border-color: #fff; box-shadow: 0 0 15px rgba(255,255,255,0.2); }
        .active-P { border-color: var(--danger); box-shadow: 0 0 15px rgba(255,0,85,0.2); }
        
        .p-img { width: 40px; height: 40px; border-radius: 6px; background-size: cover; background-position: center; background-color: #111; cursor: pointer; border: 1px solid #333; }
        .p-score { font-size: 18px; font-weight: 900; color: var(--accent); margin-left: auto; }

        /* BOARD */
        main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 5px; overflow: hidden; }
        .board-wrapper { position: relative; padding: 25px; background: #111; border-radius: 12px; border: 1px solid #222; }
        #board { display: grid; grid-template-columns: repeat(8, 1fr); width: min(88vw, 70vh); height: min(88vw, 70vh); border: 2px solid #333; }
        .sq { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        .l { background: var(--sq-l); } .d { background: var(--sq-d); }
        .piece-container { width: 85%; height: 85%; position: relative; }
        .piece { width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: center; }

        /* OVERLAYS */
        .overlay { display: none; position: fixed; inset: 0; z-index: 9000; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); align-items: center; justify-content: center; }
        .arena-content { width: 95%; max-width: 500px; display: flex; flex-direction: column; gap: 15px; }
        .arena-fighters { display: flex; justify-content: space-around; align-items: center; gap: 10px; }
        .arena-box { width: 100%; aspect-ratio: 3/4; background: #111; border: 2px solid #333; border-radius: 10px; background-size: cover; background-position: center; }

        /* VICTORY */
        .victory-content { text-align: center; animation: zoomIn 0.5s ease; }
        .trophy-wrap { position: relative; width: 160px; height: 160px; margin: 0 auto 20px; }
        .winner-photo-circle { position: absolute; top: 35px; left: 50%; transform: translateX(-50%); width: 70px; height: 70px; border-radius: 50%; background-size: cover; border: 3px solid var(--gold); }
        @keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* SIDEBAR */
        aside { position: fixed; top: 0; left: -310px; width: 300px; height: 100%; background: var(--panel); border-right: 2px solid var(--accent); transition: 0.3s; z-index: 8000; display: flex; flex-direction: column; }
        aside.open { left: 0; }
        #menu-toggle { position: fixed; bottom: 20px; right: 20px; z-index: 8500; width: 55px; height: 55px; background: var(--accent); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #000; font-size: 24px; cursor: pointer; }

        .tabs { display: flex; background: #000; }
        .tabs button { flex: 1; padding: 15px; background: none; border: none; color: #555; font-size: 11px; cursor: pointer; }
        .tabs button.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
        .scroll-area { flex: 1; overflow-y: auto; padding: 15px; }
        .btn { width: 100%; padding: 10px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 10px; }
        .btn-yes { background: var(--accent); color: #000; }
        .unit-card { background: #1a1a24; padding: 10px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #333; font-size: 11px; }